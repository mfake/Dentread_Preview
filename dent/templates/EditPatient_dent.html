{% extends 'domain_dashbase.html' %}
{% load static %}
{% block content %}
{% if user.is_authenticated %}

 <div class="main-content pt-0 "><!-- Content Wrapper. Contains page content -->

    <!-- Content Header (Page header) -->

      <div class="container">
          <div class="inner-body">

            <div class="row row-sm">
                <div class="col-sm-6 ">
               <ol class="breadcrumb float-sm-left">
                   <li class="breadcrumb-item"><a href="#"><h5>Edit Patient</h5></a></li>
                    </ol>

                 </div>

            </div>

    <!-- Main content -->





            <!-- /.card -->




<div class="row mb-2">
                <div class="col-sm-12 col-lg-12 col-xl-12">
                    <div class="card ">
                        <div class="card-body">


    <form  method="post" action="/edit_patient_dent/{{ patient.id }}">
        {% csrf_token %}

        <div class="row">
          <div class="col-md-6">

            <div class="card card-success">
              <div class="card-header bg-primary text-white" >
                <h6 class="card-title">Registration Details</h6>
              </div>
              <div class="card-body">
                <!-- Date dd/mm/yyyy -->

                  <div class="form-group">
                        <label for="rdate">Registration Date</label>
                        <input type="date" class="form-control" id="rdate"  name="rdate" value="{{ patient.rdate|date:'Y-m-d' }}" readonly>
                      </div>


                <!-- phone mask -->
                <div class="form-group">
                        <label for="exampleInputPassword1">Centre</label>
                        <input type="text" class="form-control" id="locate" name="locate" value="{{ patient.locate }}" placeholder="Location" readonly>
                      </div>
                <!-- /.form group -->

                <!-- phone mask -->
          <div class="form-group">
                        <label for="exampleInputPassword1">Registered By</label>
                        <input type="text" class="form-control" id="regby" name="regby" value="{{ patient.regby }}" placeholder="Registered By" readonly>
                      </div>
                <!-- /.form group -->

                <!-- IP mask -->
             <div class="form-group">
                        <label for="exampleInputPassword1">Patient ID</label>
                        <input type="text" class="form-control" id="ptid" name="ptid" value="{{ patient.ptid }}"placeholder="Patient ID(Auto)" readonly>
                      </div>
                <!-- /.form group -->

              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->

            <div class="card card-info">
              <div class="card-header bg-primary text-white" >
                <h6 class="card-title">Reference</h6>
              </div>
              <div class="card-body">

               <div class="form-group">
                        <label for="refdoctor">Referral Doctor</label>

                  <select type="text" id="demo" name="demo" onchange="singleSelectChangeValue()" class="form-control select2bs4" style="width: 100%;" required>
                      <option selected="selected" value="{{ patient.refdoctor }}">{{ patient.refdoctor }}</option>

                    {% for i in doctor %}

                    <option  value="{{ i.docid }}">{{ i.name }}___{{ i.clinic }}</option>

 <script>
                      function singleSelectChangeValue() {
                           var selObj = document.getElementById("demo");
                           var selValue = selObj.options[selObj.selectedIndex].value;
                           var docValue = selObj.options[selObj.selectedIndex].text;

                               document.getElementById("docid").value = selValue;
                               document.getElementById("refdoctor").value = docValue;
                            }
</script>

                      {% endfor %}

                  </select>



                      </div>


                   <div class="form-group">
                        <label for="docid">Dcotor ID</label>
                        <input type="text" class="form-control" id="docid"  name="docid" value="{{ patient.docid }}"placeholder="Doctor ID" >
                      </div>

<input id="refdoctor" name="refdoctor" value="{{ patient.refdoctor }}" hidden></input>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->

          </div>
          <!-- /.col (left) -->
          <div class="col-md-6">
            <div class="card card-primary">
              <div class="card-header bg-primary text-white" >
                <h6 class="card-title">Patient Details</h6>
              </div>
              <div class="card-body">
                <!-- Name -->

                     <div class="form-group">
                        <label for="exampleInputPassword1">Name</label>
                        <input type="text" class="form-control" id="name" name="name" value="{{ patient.name }}" placeholder="Name">
                      </div>



                <!-- Age Gender -->
                     <div class="row">
                  <div class="col-sm-6">
                    <!-- checkbox -->
                  <div class="form-group">
                       <label for="exampleInputPassword1">Age</label>
                          <input type="text" class="form-control" id="age" name="age" value="{{ patient.age }}" placeholder="Age">
                      </div>
                  </div>
                  <div class="col-sm-6">

                   <div class="form-group">
                       <label for="exampleInputPassword1">Gender</label>
                       <select type="text" id="gender" name="gender"  class="form-control select2bs4" style="width: 100%;">
                      <option selected="selected" value="{{ patient.gender }}" >{{ patient.gender }} </option>
                           <option value="Male">Male</option>
                           <option value="Female">Female</option>
                           <option value="Other">Other</option>

                       </select>
                      </div>
                  </div>
                </div>

               <!-- Email Contact Address -->
                     <div class="row">
                  <div class="col-sm-6">
                    <!-- checkbox -->
                  <div class="form-group">
                       <label for="exampleInputPassword1">Email</label>
                          <input type="text" class="form-control" id="email" name="email" value="{{ patient.email }}" placeholder="Email">
                      </div>
                  </div>
                  <div class="col-sm-6">

                   <div class="form-group">
                       <label for="exampleInputPassword1">Contact</label>
                          <input type="text" class="form-control" id="contact" name="contact" value="{{ patient.contact }}" placeholder="Contact">
                      </div>
                  </div>
                </div>


                  <div class="form-group">
    <label for="address_1" class="form-label">Address 1</label>
    <input type="text" class="form-control" name="address_1" id="address_1" value="{{ patient.address_1 }}" placeholder="1234 Main St">
  </div>
   <div class="form-group">
    <label for="address_2" class="form-label">Address 2</label>
    <input type="text" class="form-control" name="address_2" id="address_2" value="{{ patient.address_2 }}" placeholder="Apartment, studio, or floor">
  </div>
<div class="row">
  <div class="col-sm-4">
      <div class="form-group">
    <label for="city" class="form-label">City</label>
    <input type="text" class="form-control" name="city" id="city" value="{{ patient.city }}">
  </div>
  </div>
  <div class="col-sm-4">
      <div class="form-group">
   <label for="state" class="form-label">State</label>
    <input type="text" class="form-control"  name="state" id="state" value="{{ patient.state }}">
  </div>
  </div>
  <div class="col-sm-4">
      <div class="form-group">
    <label for="zip_code" class="form-label">Zip Code</label>
    <input type="text" class="form-control"  name="zip_code" id="zip_code" value="{{ patient.zip_code }}">
  </div>
  </div>
</div>


 <div class="form-group">
                        <label for="exampleInputPassword1">Medical History (if any)</label>
                        <textarea class="form-control" id="medih" name="medih" style="height: 68px">
{{ patient.medih }}
</textarea>
                      </div>





              </div>
                  </div>

              </div>
        </div>
<hr>

  <div class="row">

         <div class="col-6">

                    <!-- checkbox -->
                      <button type="submit" class="btn btn-block ripple btn-primary">Update</button>
                  </div>



     </div>
      </div>
   </div>
                </div>
                    </div>
                </div>
</div>
          </form>
          </div>
      </div>

    {% endif %}
{%endblock%}