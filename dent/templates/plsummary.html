{% extends 'dentread_dashbase.html' %}
{% load static %}
{% block content %}
{% if user.is_authenticated %}

<div class="main-content pt-0 "><!-- Content Wrapper. Contains page content -->

    <!-- Content Header (Page header) -->

      <div class="container">
          <div class="inner-body">

      <div class="row row-sm">
          <div class="col-sm-6 ">
               <ol class="breadcrumb float-sm-left">
                   <li class="breadcrumb-item"><a href="#"><h5>P & L Summary</h5></a></li>
                    </ol>

          </div>

        </div>

    <!-- Main content -->
 <div class="row">
          <div class="col-sm-12 col-lg-12 col-xl-12">
            <div class="card">



              <!-- /.card-header -->
              <div class="card-body">
                   <button class="btn btn-sm"style="background-color:#88FC04;color:white;">Sale</button>
                  <button class="btn btn-sm"style="background-color:#04FCF8;color:white;">P & L Amount</button>
                 <button class="btn btn-sm"style="background-color:#D28D7E;color:white;">Rent</button>
                   <button class="btn btn-sm"style="background-color:#D2AE7E;color:white;">Salary</button>
                   <button class="btn btn-sm"style="background-color:#76572C;color:white;">Professional Fees</button>
                   <button class="btn btn-sm"style="background-color:#664313;color:white;">Electricity</button>
                   <button class="btn btn-sm"style="background-color:#AE410B;color:white;">Maintenance of Building</button>
                   <button class="btn btn-sm"style="background-color:#67493B;color:white;">Maintenence of Equipment</button>
                   <button class="btn btn-sm"style="background-color:#EDC5C2;color:white;">Printing & Stationary</button>
                   <button class="btn btn-sm"style="background-color:#561F1A;color:white;">Dry view Film</button>
                   <button class="btn btn-sm"style="background-color:#4C1A56;color:white;">Others</button>

              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->
          </div>
          <div class="col-6">
            <div class="card">



              <!-- /.card-header -->
              <div class="card-body">
                 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                 <canvas id="myChartgzb" width="40" height="20"></canvas>


                 <script>

                  const labels = {{gzbmonthyear|safe}};






  const data = {
  labels: labels,
  datasets: [
  {
    label: 'Sales DMDGZB',
    backgroundColor: '#88FC04',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbsaleamount}},


  },
  {
    label: 'Rent',
    backgroundColor: '#76572C',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbexpamount_rent}},
    stack:'Stack 1',

  },



  {
    label: 'Professional Fees',
    backgroundColor: '#76572C',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbexpamount_profees}},
    stack:'Stack 1',

  },
{
    label: 'Salary',
    backgroundColor: '#D2AE7E',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbexpamount_salary}},
    stack:'Stack 1',

  },
  {
    label: 'Electricity',
    backgroundColor: '#664313',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbexpamount_electric}},
    stack:'Stack 1',

  },
   {
    label: 'Maintenance of Building',
    backgroundColor: '#AE410B',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbexpamount_mbulid}},
    stack:'Stack 1',

  },
    {
    label: 'Maintenance of Equipments',
    backgroundColor: '#67493B',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbexpamount_mequip}},
    stack:'Stack 1',

  },
{
    label: 'Depreciation',
    backgroundColor: '#EA392D',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbexpamount_dep}},
    stack:'Stack 1',

  },
  {
    label: 'Printing & Stationary',
    backgroundColor: '#EDC5C2',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbexpamount_print}},
    stack:'Stack 1',

  },
   {
    label: 'Dry view Film',
    backgroundColor: '#561F1A',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbexpamount_film}},
    stack:'Stack 1',

  },
  {
    label: 'Others',
    backgroundColor: '#4C1A56',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbexpamount_other}},
    stack:'Stack 1',

  },
  {
    label: 'Profit/Loss',
    backgroundColor: '#04FCF8',
    borderColor: 'rgb(255, 99, 132)',
    data: {{gzbprofit}},
    stack:'Stack 2',

  },


  ]
};

const config = {
  type: 'bar',
  data: data,
  options: {
    plugins: {
    legend: false,
      title: {
        display: true,
        text: 'P & L Summary - DMDGZB'
      },
    },
    responsive: true,
    interaction: {
      intersect: false,
    },
    scales: {
      x: {
        stacked: true,
      },
      y: {
        stacked: true
      }
    }
  
  }
};
  var myChart = new Chart(
    document.getElementById('myChartgzb'),
    config
  );
                </script>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->
          </div>
             <div class="col-6">
            <div class="card">



              <!-- /.card-header -->
              <div class="card-body">
                 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                 <canvas id="myChartggn" width="40" height="20"></canvas>

                 <script>


                  const labelsggn = {{ggnmonthyear|safe}};



  const dataggn = {
  labels: labelsggn,
  datasets: [
  {
    label: 'Sales DMDGGN',
    backgroundColor: '#88FC04',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnsaleamount}},


  },


  {
    label: 'Rent',
    backgroundColor: '#D28D7E',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnexpamount_rent}},
    stack:'Stack 1',

  },
   {
    label: 'Professional Fees',
    backgroundColor: '#76572C',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnexpamount_profees}},
    stack:'Stack 1',

  },
  {
    label: 'Salary',
    backgroundColor: '#D2AE7E',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnexpamount_salary}},
    stack:'Stack 1',

  },
  {
    label: 'Electricity',
    backgroundColor: '#664313',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnexpamount_electric}},
    stack:'Stack 1',

  },
  {
    label: 'Building Maintenance',
    backgroundColor: '#AE410B',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnexpamount_mbulid}},
    stack:'Stack 1',

  },
  {
    label: 'Equipment Maintenance',
    backgroundColor: '#67493B',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnexpamount_mequip}},
    stack:'Stack 1',

  },
  {
    label: 'Depreciation',
    backgroundColor: '#EA392D',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnexpamount_dep}},
    stack:'Stack 1',

  },
{
    label: 'Dry view Film',
    backgroundColor: '#561F1A',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnexpamount_film}},
    stack:'Stack 1',

  },
  {
    label: 'Others',
    backgroundColor: '#4C1A56',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnexpamount_other}},
    stack:'Stack 1',

  },
  {
    label: 'Printing & Stationary',
    backgroundColor: '#EDC5C2',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnexpamount_print}},
    stack:'Stack 1',

  },
  {
    label: 'Profit/Loss',
    backgroundColor: '#04FCF8',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ggnprofit}},
    stack:'Stack 2',

  },


  ]
};

const configggn = {
  type: 'bar',
  data: dataggn,
  options: {
    plugins: {
    legend: false,
      title: {
        display: true,
        text: 'P & L Summary - DMDGGN'
      },
    },
    responsive: true,
    interaction: {
      intersect: false,
    },
    scales: {
      x: {
        stacked: true,
      },
      y: {
        stacked: true
      }
    }
  }
};
  var myChartggn = new Chart(
    document.getElementById('myChartggn'),
    configggn
  );
                </script>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->
          </div>
               <div class="col-6">
            <div class="card">



              <!-- /.card-header -->
              <div class="card-body">
                 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                 <canvas id="myChartdel" width="40" height="20"></canvas>

                 <script>

                  const labelsdel = {{delmonthyear|safe}};



  const datadel = {
  labels: labelsdel,
  datasets: [
  {
    label: 'Sales DMDDEL',
    backgroundColor: '#88FC04',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delsaleamount}},


  },


  {
    label: 'Rent',
    backgroundColor: '#D28D7E',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delexpamount_rent}},
    stack:'Stack 1',

  },
   {
    label: 'Professional Fees',
    backgroundColor: '#76572C',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delexpamount_profees}},
    stack:'Stack 1',

  },
  {
    label: 'Salary',
    backgroundColor: '#D2AE7E',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delexpamount_salary}},
    stack:'Stack 1',

  },
  {
    label: 'Electricity',
    backgroundColor: '#664313',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delexpamount_electric}},
    stack:'Stack 1',

  },
  {
    label: 'Building Maintenance',
    backgroundColor: '#AE410B',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delexpamount_mbulid}},
    stack:'Stack 1',

  },
  {
    label: 'Equipment Maintenance',
    backgroundColor: '#67493B',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delexpamount_mequip}},
    stack:'Stack 1',

  },
  {
    label: 'Depreciation',
    backgroundColor: '#EA392D',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delexpamount_dep}},
    stack:'Stack 1',

  },
{
    label: 'Dry view Film',
    backgroundColor: '#561F1A',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delexpamount_film}},
    stack:'Stack 1',

  },
  {
    label: 'Others',
    backgroundColor: '#4C1A56',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delexpamount_other}},
    stack:'Stack 1',

  },
  {
    label: 'Printing & Stationary',
    backgroundColor: '#EDC5C2',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delexpamount_print}},
    stack:'Stack 1',

  },
   {
    label: 'Profit/Loss',
    backgroundColor: '#04FCF8',
    borderColor: 'rgb(255, 99, 132)',
    data: {{delprofit}},
    stack:'Stack 2',

  },


  ]
};

const configdel = {
  type: 'bar',
  data: datadel,
  options: {
    plugins: {
    legend: false,
      title: {
        display: true,
        text: 'P & L Summary - DMDDEL'
      },
    },
    responsive: true,
    interaction: {
      intersect: false,
    },
    scales: {
      x: {
        stacked: true,
      },
      y: {
        stacked: true
      }
    }
  }
};
  var myChartdel = new Chart(
    document.getElementById('myChartdel'),
    configdel
  );
                </script>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->
               </div>
             <div class="col-6">
            <div class="card">



              <!-- /.card-header -->
              <div class="card-body">
                 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                 <canvas id="myChartnda" width="40" height="20"></canvas>

                 <script>

                  const labelsnda = {{ndamonthyear|safe}};



  const datanda = {
  labels: labelsnda,
  datasets: [
  {
    label: 'Sales DMDNDA',
    backgroundColor: '#88FC04',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndasaleamount}},


  },


  {
    label: 'Rent',
    backgroundColor: '#D28D7E',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndaexpamount_rent}},
    stack:'Stack 1',

  },
   {
    label: 'Professional Fees',
    backgroundColor: '#76572C',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndaexpamount_profees}},
    stack:'Stack 1',

  },
  {
    label: 'Salary',
    backgroundColor: '#D2AE7E',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndaexpamount_salary}},
    stack:'Stack 1',

  },
  {
    label: 'Electricity',
    backgroundColor: '#664313',
    borderColor: 'rgb(255, 99, 132)',
    data: {{daexpamount_electric}},
    stack:'Stack 1',

  },
  {
    label: 'Building Maintenance',
    backgroundColor: '#AE410B',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndaexpamount_mbulid}},
    stack:'Stack 1',

  },
  {
    label: 'Equipment Maintenance',
    backgroundColor: '#67493B',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndaexpamount_mequip}},
    stack:'Stack 1',

  },
  {
    label: 'Depreciation',
    backgroundColor: '#EA392D',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndaexpamount_dep}},
    stack:'Stack 1',

  },
{
    label: 'Dry view Film',
    backgroundColor: '#561F1A',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndaexpamount_film}},
    stack:'Stack 1',

  },
  {
    label: 'Others',
    backgroundColor: '#4C1A56',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndaexpamount_other}},
    stack:'Stack 1',

  },
  {
    label: 'Printing & Stationary',
    backgroundColor: '#EDC5C2',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndaexpamount_print}},
    stack:'Stack 1',

  },
   {
    label: 'Profit/Loss',
    backgroundColor: '#04FCF8',
    borderColor: 'rgb(255, 99, 132)',
    data: {{ndaprofit}},
    stack:'Stack 2',

  },


  ]
};

const confignda = {
  type: 'bar',
  data: datanda,
  options: {
    plugins: {
    legend: false,
      title: {
        display: true,
        text: 'P & L Summary - DMDNDA'
      },
    },
    responsive: true,
    interaction: {
      intersect: false,
    },
    scales: {
      x: {
        stacked: true,
      },
      y: {
        stacked: true
      }
    }
  }
};
  var myChartnda = new Chart(
    document.getElementById('myChartnda'),
    confignda
  );
                </script>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->
               </div>


             <div class="col-8">
            <div class="card">



              <!-- /.card-header -->
              <div class="card-body">
                 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                 <canvas id="myChartall" width="40" height="20"></canvas>

                 <script>


                  const labelsall = {{res|safe}};



  const dataall = {
  labels: labelsall,
  datasets: [
  {
    label: 'Sales All',
    backgroundColor: '#88FC04',
    borderColor: 'rgb(255, 99, 132)',
    data: {{allsaleamount}},


  },


  {
    label: 'All Expenses',
    backgroundColor: '#FC0410',
    borderColor: 'rgb(255, 99, 132)',
    data: {{allexpamount}},
    stack:'Stack 1',

  },
  {
    label: 'Profit/Loss',
    backgroundColor: '#04FCF8',
    borderColor: 'rgb(255, 99, 132)',
    data: {{allprofit}},
    stack:'Stack 2',

  },


  ]
};

const configall = {
  type: 'bar',
  data: dataall,
  options: {
    plugins: {
    legend: false,
      title: {
        display: true,
        text: 'P & L Summary - All'
      },
    },
    responsive: true,
    interaction: {
      intersect: false,
    },
    scales: {
      x: {
        stacked: true,
      },
      y: {
        stacked: true
      }
    }
  }
};
  var myChartall = new Chart(
    document.getElementById('myChartall'),
    configall
  );
                </script>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->
          </div>
          <!-- /.col -->
        </div>
        <!-- /.row -->
      </div>
      <!-- /.container-fluid -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- /.control-sidebar -->
</div>
        <!-- /.modal-dialog -->
      </div>

<!-- jQuery -->
<script src="{% static '/plugins/jquery/jquery.min.js' %}"></script>
<!-- Bootstrap 4 -->
<script src="{% static '/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<!-- DataTables  & Plugins -->
<script src="{% static '/plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static '/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static '/plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{% static '/plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
<script src="{% static '/plugins/datatables-buttons/js/dataTables.buttons.min.js' %}"></script>
<script src="{% static '/plugins/datatables-buttons/js/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static '/plugins/jszip/jszip.min.js' %}"></script>
<script src="{% static '/plugins/pdfmake/pdfmake.min.js' %}"></script>
<script src="{% static '/plugins/pdfmake/vfs_fonts.js' %}"></script>
<script src="{% static '/plugins/datatables-buttons/js/buttons.html5.min.js' %}"></script>
<script src="{% static '/plugins/datatables-buttons/js/buttons.print.min.js' %}"></script>
<script src="{% static '/plugins/datatables-buttons/js/buttons.colVis.min.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static '/dist/js/adminlte.min.js' %}"></script>

  <script src="{% static '/plugins/sweetalert2/sweetalert2.min.js' %}"></script>
<!-- AdminLTE for demo purposes -->

<!-- Page specific script -->

</body>
{% endif %}
{%endblock%}
